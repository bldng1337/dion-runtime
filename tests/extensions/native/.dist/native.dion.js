//{"id":"native","name":"native","url":"www.example.com","icon":"www.example.com/icon.png","lang":[],"nsfw":false,"media_type":["Book"],"extension_type":[],"version":"1.0.0","license":"ISC","api_version":"*","repo":"string"}
import{fetch as n}from"network";import{getSetting as a}from"setting";class o{async validate(t){return t}async onEvent(t){switch(t.type){case"Action":return;case"FeedUpdate":return{type:t.type,customui:[],hasnext:null,length:null};case"SwapContent":return{type:t.type,customui:{type:"Text",text:"asd"}}}}async mapSource(t,e,r){return{source:t,settings:r}}async mapEntry(t,e){return{entry:t,settings:e}}async onEntryActivity(t,e,r){}async browse(t){let e=await s();return{content:(await n(`${e}/getEntries`)).json}}async search(t,e){let r=await s();return{content:(await n(`${r}/getEntries`)).json}}async handleUrl(t){return!0}async detail(t,e){let r=await s();return{entry:(await n(`${r}/getEntry`)).json,settings:e}}async source(t,e){let r=await s();return{source:(await n(`${r}/getSource`)).json,settings:e}}}async function s(){let t=await a("testdataserver","Extension"),e=t.value.data;if(t.value.type!=="String")throw Error("Failed to get Server");if(e.endsWith("/"))return e.substring(0,e.length-1);return e}class l extends o{}export{l as default};
